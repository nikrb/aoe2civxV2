(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function W(){}function it(t){return t()}function Ce(){return Object.create(null)}function z(t){t.forEach(it)}function ve(t){return typeof t=="function"}function se(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let de;function G(t,e){return de||(de=document.createElement("a")),de.href=e,t===de.href}function ot(t){return Object.keys(t).length===0}function st(t){return t&&ve(t.destroy)?t.destroy:W}function v(t,e){t.appendChild(e)}function q(t,e,l){t.insertBefore(e,l||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function X(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function j(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function T(){return L(" ")}function re(){return L("")}function E(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function A(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function rt(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _e(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ge(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function lt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let ke;function ne(t){ke=t}const te=[],qe=[],pe=[],Ae=[],ut=Promise.resolve();let be=!1;function ft(){be||(be=!0,ut.then(nt))}function oe(t){pe.push(t)}const me=new Set;let ee=0;function nt(){if(ee!==0)return;const t=ke;do{try{for(;ee<te.length;){const e=te[ee];ee++,ne(e),ct(e.$$)}}catch(e){throw te.length=0,ee=0,e}for(ne(null),te.length=0,ee=0;qe.length;)qe.pop()();for(let e=0;e<pe.length;e+=1){const l=pe[e];me.has(l)||(me.add(l),l())}pe.length=0}while(te.length);for(;Ae.length;)Ae.pop()();be=!1,me.clear(),ne(t)}function ct(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(oe)}}const he=new Set;let J;function H(){J={r:0,c:[],p:J}}function R(){J.r||z(J.c),J=J.p}function S(t,e){t&&t.i&&(he.delete(t),t.i(e))}function B(t,e,l,n){if(t&&t.o){if(he.has(t))return;he.add(t),J.c.push(()=>{he.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function K(t){t&&t.c()}function D(t,e,l,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,l),n||oe(()=>{const o=t.$$.on_mount.map(it).filter(ve);t.$$.on_destroy?t.$$.on_destroy.push(...o):z(o),t.$$.on_mount=[]}),s.forEach(oe)}function F(t,e){const l=t.$$;l.fragment!==null&&(z(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function at(t,e){t.$$.dirty[0]===-1&&(te.push(t),ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,l,n,i,s,o,r=[-1]){const u=ke;ne(t);const f=t.$$={fragment:null,ctx:[],props:s,update:W,not_equal:i,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ce(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};o&&o(f.root);let $=!1;if(f.ctx=l?l(t,e.props||{},(d,_,...a)=>{const p=a.length?a[0]:_;return f.ctx&&i(f.ctx[d],f.ctx[d]=p)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](p),$&&at(t,d)),_}):[],f.update(),$=!0,z(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const d=rt(e.target);f.fragment&&f.fragment.l(d),d.forEach(C)}else f.fragment&&f.fragment.c();e.intro&&S(t.$$.fragment),D(t,e.target,e.anchor,e.customElement),nt()}ne(u)}class fe{$destroy(){F(this,1),this.$destroy=W}$on(e,l){if(!ve(l))return W;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dt=[{id:4,type:"archer",building:"archery"},{id:24,type:"archer",building:"archery"},{id:492,type:"archer",building:"archery"},{id:185,type:"slinger",building:"archery"},{id:7,type:"skirm",building:"archery"},{id:6,type:"skirm",building:"archery"},{id:1155,type:"skirm",building:"archery"},{id:1010,type:"genitour",building:"archery"},{id:1012,type:"genitour",building:"archery"},{id:5,type:"cannoneer",building:"archery"},{id:39,type:"cavarcher",building:"archery"},{id:474,type:"cavarcher",building:"archery"},{id:873,type:"elephantarcher",building:"archery"},{id:875,type:"elephantarcher",building:"archery"},{id:74,type:"swordsman",building:"barracks"},{id:75,type:"swordsman",building:"barracks"},{id:77,type:"swordsman",building:"barracks"},{id:473,type:"swordsman",building:"barracks"},{id:567,type:"swordsman",building:"barracks"},{id:93,type:"pikeman",building:"barracks"},{id:358,type:"pikeman",building:"barracks"},{id:359,type:"pikeman",building:"barracks"},{id:751,type:"eagle",building:"barracks"},{id:753,type:"eagle",building:"barracks"},{id:752,type:"eagle",building:"barracks"},{id:882,type:"condottiero",building:"barracks"},{id:448,type:"cav",building:"stable"},{id:546,type:"cav",building:"stable"},{id:441,type:"cav",building:"stable"},{id:1707,type:"cav",building:"stable"},{id:1751,type:"shrivamsha",building:"stable"},{id:1753,type:"shrivamsha",building:"stable"},{id:38,type:"knight",building:"stable"},{id:283,type:"knight",building:"stable"},{id:569,type:"knight",building:"stable"},{id:1370,type:"lancer",building:"stable"},{id:1372,type:"lancer",building:"stable"},{id:1755,type:"cavcamel",building:"stable"},{id:329,type:"cavcamel",building:"stable"},{id:330,type:"cavcamel",building:"stable"},{id:5419,type:"cavcamel",building:"stable"},{id:1132,type:"elephant",building:"stable"},{id:1134,type:"elephant",building:"stable"},{id:1570,type:"xolotl",building:"stable"},{id:1258,type:"ram",building:"workshop"},{id:422,type:"ram",building:"workshop"},{id:548,type:"ram",building:"workshop"},{id:279,type:"Scorpion",building:"workshop"},{id:542,type:"Scorpion",building:"workshop"},{id:280,type:"Mangonel",building:"workshop"},{id:550,type:"Mangonel",building:"workshop"},{id:588,type:"Mangonel",building:"workshop"},{id:36,type:"bbc",building:"workshop"},{id:1709,type:"bbc",building:"workshop"},{id:1105,type:"siege tower",building:"workshop"},{id:1744,type:"elephant seige",building:"workshop"},{id:1746,type:"elephant seige",building:"workshop"}],_t=[{id:22,tech:"Loom",type:"unique",building:"eco"},{id:8,tech:"Town Watch",type:"los",building:"eco"},{id:280,tech:"Town Patrol",type:"los",building:"eco"},{id:213,tech:"Wheel Barrow",type:"vil speed",building:"eco"},{id:249,tech:"Hand Cart",type:"vil speed",building:"eco"},{id:199,tech:"Fletching",type:"attack",building:"archery"},{id:200,tech:"Bodkin Arrow",type:"attack",building:"archery"},{id:201,tech:"Bracer",type:"attack",building:"archery"},{id:211,tech:"Padded Archer Armor",type:"armour",building:"archery"},{id:212,tech:"Leather Archer Armor",type:"armour",building:"archery"},{id:219,tech:"Ring Archer Armor",type:"armour",building:"archery"},{id:67,tech:"Forging",type:"attack",building:"barracks stable"},{id:68,tech:"Iron casting",type:"attack",building:"barracks stable"},{id:75,tech:"Blast Furnace",type:"attack",building:"barracks stable"},{id:81,tech:"Scale Barding Armor",type:"armour",building:"stable"},{id:82,tech:"Chain Barding Armor",type:"armour",building:"stable"},{id:80,tech:"Plate Barding Armor",type:"armour",building:"stable"},{id:74,tech:"Scale Mail Armor",type:"armour",building:"barracks"},{id:76,tech:"Chain Mail Armor",type:"armour",building:"barracks"},{id:77,tech:"Plate Mail Armor",type:"armour",building:"barracks"},{id:437,tech:"Thumb Ring",type:"unique",building:"archery"},{id:436,tech:"Parthian Tactics",type:"unique",building:"archery"},{id:716,tech:"Supplies",type:"unique",building:"barracks"},{id:215,tech:"Squires",type:"unique",building:"barracks"},{id:602,tech:"Arson",type:"unique",building:"barracks"},{id:435,tech:"Bloodlines",type:"unique",building:"stable"},{id:39,tech:"Husbandry",type:"unique",building:"stable"},{id:321,tech:"Sappers",type:"unique",building:"defense"},{id:315,tech:"Conscription",type:"unique",building:"defense"},{id:379,tech:"Hoardings",type:"unique",building:"defense"},{id:408,tech:"Spies",type:"unique",building:"defense"},{id:50,tech:"Masonry",type:"building hp",building:"defense"},{id:51,tech:"Architecture",type:"building hp",building:"defense"},{id:93,tech:"Ballistics",type:"unique",building:"archery"},{id:47,tech:"Chemistry",type:"unique",building:"archery"},{id:140,tech:"Guard Tower",type:"tower",building:"defense"},{id:63,tech:"Keep",type:"tower",building:"defense"},{id:64,tech:"Bombard Tower",type:"unique",building:"defense"},{id:322,tech:"Murder Holes",type:"unique",building:"defense"},{id:377,tech:"Siege Engineers",type:"unique",building:"workshop"},{id:380,tech:"Heated Shot",type:"unique",building:"defense"},{id:608,tech:"Arrowslits",type:"unique",building:"defense"},{id:194,tech:"Fortified Wall",type:"unique",building:"defense"},{id:231,tech:"Sanctity",type:"unique",building:"monastery"},{id:252,tech:"Fervor",type:"unique",building:"monastery"},{id:316,tech:"Redemption",type:"unique",building:"monastery"},{id:319,tech:"Atonement",type:"unique",building:"monastery"},{id:439,tech:"Heresy",type:"unique",building:"monastery"},{id:441,tech:"Herbal Medicine",type:"unique",building:"monastery"},{id:46,tech:"Devotion",type:"religious",building:"monastery"},{id:45,tech:"Faith",type:"religious",building:"monastery"},{id:230,tech:"Block Printing",type:"unique",building:"monastery"},{id:233,tech:"Illumination",type:"unique",building:"monastery"},{id:438,tech:"Theocracy",type:"unique",building:"monastery"},{id:55,tech:"Gold Mining",type:"gold",building:"eco"},{id:182,tech:"Gold Shaft Mining",type:"gold",building:"eco"},{id:278,tech:"Stone Mining",type:"stone",building:"eco"},{id:279,tech:"Stone Shaft Mining",type:"stone",building:"eco"},{id:202,tech:"Double Bit Axe",type:"wood",building:"eco"},{id:203,tech:"Bow Saw",type:"wood",building:"eco"},{id:221,tech:"Two Man Saw",type:"wood",building:"eco"},{id:14,tech:"Horse collar",type:"food",building:"eco"},{id:13,tech:"Heavy plow",type:"food",building:"eco"},{id:12,tech:"Crop rotation",type:"food",building:"eco"}];function Se(t){let e,l,n,i,s=t[0].info_list[t[1]].Cost.Wood+"",o;return{c(){e=j("img"),n=T(),i=j("span"),o=L(s),G(e.src,l="https://aoe2techtree.net/img/wood.png")||A(e,"src",l),A(e,"alt","wood"),A(e,"class","svelte-1j8845j"),A(i,"class","cost svelte-1j8845j")},m(r,u){q(r,e,u),q(r,n,u),q(r,i,u),v(i,o)},p(r,u){u&3&&s!==(s=r[0].info_list[r[1]].Cost.Wood+"")&&U(o,s)},d(r){r&&C(e),r&&C(n),r&&C(i)}}}function je(t){let e,l,n,i,s=t[0].info_list[t[1]].Cost.Food+"",o;return{c(){e=j("img"),n=T(),i=j("span"),o=L(s),G(e.src,l="https://aoe2techtree.net/img/food.png")||A(e,"src",l),A(e,"alt","food"),A(e,"class","svelte-1j8845j"),A(i,"class","cost svelte-1j8845j")},m(r,u){q(r,e,u),q(r,n,u),q(r,i,u),v(i,o)},p(r,u){u&3&&s!==(s=r[0].info_list[r[1]].Cost.Food+"")&&U(o,s)},d(r){r&&C(e),r&&C(n),r&&C(i)}}}function Me(t){let e,l,n,i,s=t[0].info_list[t[1]].Cost.Gold+"",o;return{c(){e=j("img"),n=T(),i=j("span"),o=L(s),G(e.src,l="https://aoe2techtree.net/img/gold.png")||A(e,"src",l),A(e,"alt","gold"),A(e,"class","svelte-1j8845j"),A(i,"class","cost svelte-1j8845j")},m(r,u){q(r,e,u),q(r,n,u),q(r,i,u),v(i,o)},p(r,u){u&3&&s!==(s=r[0].info_list[r[1]].Cost.Gold+"")&&U(o,s)},d(r){r&&C(e),r&&C(n),r&&C(i)}}}function Be(t){let e,l,n,i,s=t[0].info_list[t[1]].Cost.stone+"",o;return{c(){e=j("img"),n=T(),i=j("span"),o=L(s),G(e.src,l="https://aoe2techtree.net/img/stone.png")||A(e,"src",l),A(e,"alt","stone"),A(e,"class","svelte-1j8845j"),A(i,"class","cost svelte-1j8845j")},m(r,u){q(r,e,u),q(r,n,u),q(r,i,u),v(i,o)},p(r,u){u&3&&s!==(s=r[0].info_list[r[1]].Cost.stone+"")&&U(o,s)},d(r){r&&C(e),r&&C(n),r&&C(i)}}}function pt(t){let e,l,n=t[0].info_list[t[1]].ResearchTime+"",i;return{c(){e=j("div"),l=L("Research: "),i=L(n)},m(s,o){q(s,e,o),v(e,l),v(e,i)},p(s,o){o&3&&n!==(n=s[0].info_list[s[1]].ResearchTime+"")&&U(i,n)},d(s){s&&C(e)}}}function ht(t){let e,l,n=t[0].info_list[t[1]].HP+"",i,s,o=t[0].info_list[t[1]].TrainTime+"",r,u,f,$,d=t[0].info_list[t[1]].Attack+"",_,a,p=t[0].info_list[t[1]].MeleeArmor+"",c,b,y=t[0].info_list[t[1]].PierceArmor+"",g,M,h,k,m=t[0].info_list[t[1]].Range+"",N,ce,ie,Y,ae,Q=t[0].info_list[t[1]].Speed+"",V,le,Z=t[0].info_list[t[1]].LineOfSight+"",x,O=t[0].info_list[t[1]].MinRange!==0&&Pe(t);return{c(){e=j("div"),l=L("HP: "),i=L(n),s=L(`
        Train: `),r=L(o),u=T(),f=j("div"),$=L("Atck: "),_=L(d),a=L(`
        Armr: `),c=L(p),b=L(`/
                `),g=L(y),M=T(),h=j("div"),k=L("Range: "),N=L(m),ce=T(),O&&O.c(),ie=T(),Y=j("div"),ae=L("Spd: "),V=L(Q),le=L(`
        LOS: `),x=L(Z)},m(w,P){q(w,e,P),v(e,l),v(e,i),v(e,s),v(e,r),q(w,u,P),q(w,f,P),v(f,$),v(f,_),v(f,a),v(f,c),v(f,b),v(f,g),q(w,M,P),q(w,h,P),v(h,k),v(h,N),v(h,ce),O&&O.m(h,null),q(w,ie,P),q(w,Y,P),v(Y,ae),v(Y,V),v(Y,le),v(Y,x)},p(w,P){P&3&&n!==(n=w[0].info_list[w[1]].HP+"")&&U(i,n),P&3&&o!==(o=w[0].info_list[w[1]].TrainTime+"")&&U(r,o),P&3&&d!==(d=w[0].info_list[w[1]].Attack+"")&&U(_,d),P&3&&p!==(p=w[0].info_list[w[1]].MeleeArmor+"")&&U(c,p),P&3&&y!==(y=w[0].info_list[w[1]].PierceArmor+"")&&U(g,y),P&3&&m!==(m=w[0].info_list[w[1]].Range+"")&&U(N,m),w[0].info_list[w[1]].MinRange!==0?O?O.p(w,P):(O=Pe(w),O.c(),O.m(h,null)):O&&(O.d(1),O=null),P&3&&Q!==(Q=w[0].info_list[w[1]].Speed+"")&&U(V,Q),P&3&&Z!==(Z=w[0].info_list[w[1]].LineOfSight+"")&&U(x,Z)},d(w){w&&C(e),w&&C(u),w&&C(f),w&&C(M),w&&C(h),O&&O.d(),w&&C(ie),w&&C(Y)}}}function Pe(t){let e,l=t[0].info_list[t[1]].MinRange+"",n;return{c(){e=L("(min): "),n=L(l)},m(i,s){q(i,e,s),q(i,n,s)},p(i,s){s&3&&l!==(l=i[0].info_list[i[1]].MinRange+"")&&U(n,l)},d(i){i&&C(e),i&&C(n)}}}function gt(t){let e,l,n=t[0].info_list[t[1]].name+"",i,s,o,r,u,f,$,d=typeof t[0].info_list[t[1]].Cost.Wood<"u"&&Se(t),_=typeof t[0].info_list[t[1]].Cost.Food<"u"&&je(t),a=typeof t[0].info_list[t[1]].Cost.Gold<"u"&&Me(t),p=typeof t[0].info_list[t[1]].Cost.stone<"u"&&Be(t);function c(g,M){return g[0].info_type==="unit"?ht:pt}let b=c(t),y=b(t);return{c(){e=j("div"),l=j("div"),i=L(n),s=T(),o=j("div"),d&&d.c(),r=T(),_&&_.c(),u=T(),a&&a.c(),f=T(),p&&p.c(),$=T(),y.c(),A(o,"class","cost-outer svelte-1j8845j"),A(e,"class","outer svelte-1j8845j")},m(g,M){q(g,e,M),v(e,l),v(l,i),v(e,s),v(e,o),d&&d.m(o,null),v(o,r),_&&_.m(o,null),v(o,u),a&&a.m(o,null),v(o,f),p&&p.m(o,null),v(e,$),y.m(e,null)},p(g,[M]){M&3&&n!==(n=g[0].info_list[g[1]].name+"")&&U(i,n),typeof g[0].info_list[g[1]].Cost.Wood<"u"?d?d.p(g,M):(d=Se(g),d.c(),d.m(o,r)):d&&(d.d(1),d=null),typeof g[0].info_list[g[1]].Cost.Food<"u"?_?_.p(g,M):(_=je(g),_.c(),_.m(o,u)):_&&(_.d(1),_=null),typeof g[0].info_list[g[1]].Cost.Gold<"u"?a?a.p(g,M):(a=Me(g),a.c(),a.m(o,f)):a&&(a.d(1),a=null),typeof g[0].info_list[g[1]].Cost.stone<"u"?p?p.p(g,M):(p=Be(g),p.c(),p.m(o,null)):p&&(p.d(1),p=null),b===(b=c(g))&&y?y.p(g,M):(y.d(1),y=b(g),y&&(y.c(),y.m(e,null)))},i:W,o:W,d(g){g&&C(e),d&&d.d(),_&&_.d(),a&&a.d(),p&&p.d(),y.d()}}}function mt(t,e,l){let{info:n,info_index:i}=e;return t.$$set=s=>{"info"in s&&l(0,n=s.info),"info_index"in s&&l(1,i=s.info_index)},[n,i]}class ye extends fe{constructor(e){super(),ue(this,e,mt,gt,se,{info:0,info_index:1})}}function Te(t,e,l){const n=t.slice();return n[13]=e[l],n[15]=l,n}function Le(t){let e,l,n;function i(){return t[8](t[15])}return{c(){e=j("div"),A(e,"class","wbox svelte-fs7uj7")},m(s,o){q(s,e,o),l||(n=[E(e,"mouseenter",i),E(e,"mouseleave",t[4])],l=!0)},p(s,o){t=s},d(s){s&&C(e),l=!1,z(n)}}}function Ne(t){let e,l,n;return l=new ye({props:{info:t[0],info_index:t[2]}}),{c(){e=j("div"),K(l.$$.fragment),A(e,"class","popup svelte-fs7uj7")},m(i,s){q(i,e,s),D(l,e,null),n=!0},p(i,s){const o={};s&1&&(o.info=i[0]),s&4&&(o.info_index=i[2]),l.$set(o)},i(i){n||(S(l.$$.fragment,i),n=!0)},o(i){B(l.$$.fragment,i),n=!1},d(i){i&&C(e),F(l)}}}function bt(t){let e,l,n,i,s,o,r,u,f,$,d,_=Array(t[0].available),a=[];for(let c=0;c<_.length;c+=1)a[c]=Le(Te(t,_,c));let p=t[1]&&Ne(t);return{c(){e=j("div"),l=j("div"),n=j("div"),i=j("img"),o=T(),r=j("div");for(let c=0;c<a.length;c+=1)a[c].c();u=T(),p&&p.c(),G(i.src,s="https://aoe2techtree.net/img/"+t[0].info_type.replace(/\S/,Ee)+"s/"+t[0].info_list[t[0].info_list.length-1].id+".png")||A(i,"src",s),A(i,"alt","unit pic"),A(i,"class","svelte-fs7uj7"),A(n,"class","icons svelte-fs7uj7"),A(r,"class","row svelte-fs7uj7"),A(l,"class","popup-container svelte-fs7uj7"),A(e,"class","col svelte-fs7uj7")},m(c,b){q(c,e,b),v(e,l),v(l,n),v(n,i),v(l,o),v(l,r);for(let y=0;y<a.length;y+=1)a[y].m(r,null);v(r,u),p&&p.m(r,null),f=!0,$||(d=[E(i,"touchstart",t[5]),E(i,"touchmove",t[6]),E(i,"touchend",t[7]),E(i,"mouseenter",t[5]),E(i,"mousemove",t[6]),E(i,"mouseleave",t[7])],$=!0)},p(c,[b]){if((!f||b&1&&!G(i.src,s="https://aoe2techtree.net/img/"+c[0].info_type.replace(/\S/,Ee)+"s/"+c[0].info_list[c[0].info_list.length-1].id+".png"))&&A(i,"src",s),b&25){_=Array(c[0].available);let y;for(y=0;y<_.length;y+=1){const g=Te(c,_,y);a[y]?a[y].p(g,b):(a[y]=Le(g),a[y].c(),a[y].m(r,u))}for(;y<a.length;y+=1)a[y].d(1);a.length=_.length}c[1]?p?(p.p(c,b),b&2&&S(p,1)):(p=Ne(c),p.c(),S(p,1),p.m(r,null)):p&&(H(),B(p,1,1,()=>{p=null}),R())},i(c){f||(S(p),f=!0)},o(c){B(p),f=!1},d(c){c&&C(e),X(a,c),p&&p.d(),$=!1,z(d)}}}const Ee=t=>t.toUpperCase();function yt(t,e,l){let{info:n}=e,i=!1,s=0,o,r=0;const u=c=>{l(1,i=!0),l(2,s=c)},f=()=>l(1,i=!1);""+n.info_type.replace(/\S/,c=>c.toUpperCase())+n.info_list[n.info_list.length-1].id;function $(c){c.preventDefault(),o=c.target.getBoundingClientRect(),r=o.top,console.log("bottom_pos",r),_(c)}function d(c){let b;return c.touches?b=c.touches[0].clientX-o.left:b=c.clientX-o.left,b}function _(c){if(c.preventDefault(),!o)return;const b=d(c),y=Math.min(n.info_list.length-1,Math.max(0,Math.floor(b/o.width*n.info_list.length)));u(y)}function a(c){c.preventDefault(),f(),o=null}const p=c=>u(c);return t.$$set=c=>{"info"in c&&l(0,n=c.info)},[n,i,s,u,f,$,_,a,p]}class we extends fe{constructor(e){super(),ue(this,e,yt,bt,se,{info:0})}}function Oe(t,e,l){const n=t.slice();return n[3]=e[l],n}function Ue(t,e,l){const n=t.slice();return n[6]=e[l],n}function He(t,e,l){const n=t.slice();return n[9]=e[l],n}function Re(t,e,l){const n=t.slice();return n[6]=e[l],n}function Ie(t){let e,l;return e=new we({props:{info:t[6]}}),{c(){K(e.$$.fragment)},m(n,i){D(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.info=n[6]),e.$set(s)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function De(t){let e=t[6].building.includes(t[3])&&t[6].type!=="unique",l,n,i=e&&Ie(t);return{c(){i&&i.c(),l=re()},m(s,o){i&&i.m(s,o),q(s,l,o),n=!0},p(s,o){o&2&&(e=s[6].building.includes(s[3])&&s[6].type!=="unique"),e?i?(i.p(s,o),o&2&&S(i,1)):(i=Ie(s),i.c(),S(i,1),i.m(l.parentNode,l)):i&&(H(),B(i,1,1,()=>{i=null}),R())},i(s){n||(S(i),n=!0)},o(s){B(i),n=!1},d(s){i&&i.d(s),s&&C(l)}}}function Fe(t){let e,l;return e=new we({props:{info:t[9]}}),{c(){K(e.$$.fragment)},m(n,i){D(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.info=n[9]),e.$set(s)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Ge(t){let e,l,n=t[9].building===t[3]&&Fe(t);return{c(){n&&n.c(),e=re()},m(i,s){n&&n.m(i,s),q(i,e,s),l=!0},p(i,s){i[9].building===i[3]?n?(n.p(i,s),s&1&&S(n,1)):(n=Fe(i),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(H(),B(n,1,1,()=>{n=null}),R())},i(i){l||(S(n),l=!0)},o(i){B(n),l=!1},d(i){n&&n.d(i),i&&C(e)}}}function We(t){let e,l;return e=new we({props:{info:t[6]}}),{c(){K(e.$$.fragment)},m(n,i){D(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.info=n[6]),e.$set(s)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Xe(t){let e=t[6].building.includes(t[3])&&t[6].type==="unique",l,n,i=e&&We(t);return{c(){i&&i.c(),l=re()},m(s,o){i&&i.m(s,o),q(s,l,o),n=!0},p(s,o){o&2&&(e=s[6].building.includes(s[3])&&s[6].type==="unique"),e?i?(i.p(s,o),o&2&&S(i,1)):(i=We(s),i.c(),S(i,1),i.m(l.parentNode,l)):i&&(H(),B(i,1,1,()=>{i=null}),R())},i(s){n||(S(i),n=!0)},o(s){B(i),n=!1},d(s){i&&i.d(s),s&&C(l)}}}function Ke(t){let e,l,n=t[3]+"",i,s,o,r,u,f,$,d=t[1],_=[];for(let h=0;h<d.length;h+=1)_[h]=De(Re(t,d,h));const a=h=>B(_[h],1,1,()=>{_[h]=null});let p=t[0],c=[];for(let h=0;h<p.length;h+=1)c[h]=Ge(He(t,p,h));const b=h=>B(c[h],1,1,()=>{c[h]=null});let y=t[1],g=[];for(let h=0;h<y.length;h+=1)g[h]=Xe(Ue(t,y,h));const M=h=>B(g[h],1,1,()=>{g[h]=null});return{c(){e=j("div"),l=j("b"),i=L(n),s=T(),o=j("div");for(let h=0;h<_.length;h+=1)_[h].c();r=T();for(let h=0;h<c.length;h+=1)c[h].c();u=T();for(let h=0;h<g.length;h+=1)g[h].c();f=T(),A(o,"class","row svelte-s725av")},m(h,k){q(h,e,k),v(e,l),v(l,i),q(h,s,k),q(h,o,k);for(let m=0;m<_.length;m+=1)_[m].m(o,null);v(o,r);for(let m=0;m<c.length;m+=1)c[m].m(o,null);v(o,u);for(let m=0;m<g.length;m+=1)g[m].m(o,null);v(o,f),$=!0},p(h,k){if(k&6){d=h[1];let m;for(m=0;m<d.length;m+=1){const N=Re(h,d,m);_[m]?(_[m].p(N,k),S(_[m],1)):(_[m]=De(N),_[m].c(),S(_[m],1),_[m].m(o,r))}for(H(),m=d.length;m<_.length;m+=1)a(m);R()}if(k&5){p=h[0];let m;for(m=0;m<p.length;m+=1){const N=He(h,p,m);c[m]?(c[m].p(N,k),S(c[m],1)):(c[m]=Ge(N),c[m].c(),S(c[m],1),c[m].m(o,u))}for(H(),m=p.length;m<c.length;m+=1)b(m);R()}if(k&6){y=h[1];let m;for(m=0;m<y.length;m+=1){const N=Ue(h,y,m);g[m]?(g[m].p(N,k),S(g[m],1)):(g[m]=Xe(N),g[m].c(),S(g[m],1),g[m].m(o,f))}for(H(),m=y.length;m<g.length;m+=1)M(m);R()}},i(h){if(!$){for(let k=0;k<d.length;k+=1)S(_[k]);for(let k=0;k<p.length;k+=1)S(c[k]);for(let k=0;k<y.length;k+=1)S(g[k]);$=!0}},o(h){_=_.filter(Boolean);for(let k=0;k<_.length;k+=1)B(_[k]);c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)B(c[k]);g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)B(g[k]);$=!1},d(h){h&&C(e),h&&C(s),h&&C(o),X(_,h),X(c,h),X(g,h)}}}function vt(t){let e,l,n=t[2],i=[];for(let o=0;o<n.length;o+=1)i[o]=Ke(Oe(t,n,o));const s=o=>B(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=re()},m(o,r){for(let u=0;u<i.length;u+=1)i[u].m(o,r);q(o,e,r),l=!0},p(o,[r]){if(r&7){n=o[2];let u;for(u=0;u<n.length;u+=1){const f=Oe(o,n,u);i[u]?(i[u].p(f,r),S(i[u],1)):(i[u]=Ke(f),i[u].c(),S(i[u],1),i[u].m(e.parentNode,e))}for(H(),u=n.length;u<i.length;u+=1)s(u);R()}},i(o){if(!l){for(let r=0;r<n.length;r+=1)S(i[r]);l=!0}},o(o){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)B(i[r]);l=!1},d(o){X(i,o),o&&C(e)}}}function kt(t,e,l){let{display_units:n,display_techs:i}=e;const s=["archery","barracks","stable","workshop","monastery","eco","defense"];return t.$$set=o=>{"display_units"in o&&l(0,n=o.display_units),"display_techs"in o&&l(1,i=o.display_techs)},[n,i,s]}class wt extends fe{constructor(e){super(),ue(this,e,kt,vt,se,{display_units:0,display_techs:1})}}function Ye(t,e,l){const n=t.slice();return n[17]=e[l],n}function ze(t){let e,l=t[17]+"",n,i,s;return{c(){e=j("option"),n=L(l),i=T(),e.__value=s=t[17],e.value=e.__value},m(o,r){q(o,e,r),v(e,n),v(e,i)},p(o,r){r&1&&l!==(l=o[17]+"")&&U(n,l),r&1&&s!==(s=o[17])&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function Je(t){let e,l,n,i,s,o,r,u,f,$,d,_,a;return $=new ye({props:{info:t[5].castle.info,info_index:0}}),_=new ye({props:{info:t[5].imperial.info,info_index:0}}),{c(){e=j("div"),l=j("div"),n=j("img"),s=T(),o=j("img"),u=T(),f=j("div"),K($.$$.fragment),d=T(),K(_.$$.fragment),G(n.src,i="https://aoe2techtree.net/img/Units/"+t[5].castle.info.info_list[0].ID+".png")||A(n,"src",i),A(n,"alt","castle UU"),G(o.src,r="https://aoe2techtree.net/img/Units/"+t[5].imperial.info.info_list[0].ID+".png")||A(o,"src",r),A(o,"alt","imperial UU"),A(l,"class","row svelte-1w8wol8"),A(f,"class","row svelte-1w8wol8"),A(e,"class","popup svelte-1w8wol8"),_e(e,"top",t[7]+"px"),_e(e,"left","calc("+t[8]+"px + 1rem)")},m(p,c){q(p,e,c),v(e,l),v(l,n),v(l,s),v(l,o),v(e,u),v(e,f),D($,f,null),v(f,d),D(_,f,null),a=!0},p(p,c){(!a||c&32&&!G(n.src,i="https://aoe2techtree.net/img/Units/"+p[5].castle.info.info_list[0].ID+".png"))&&A(n,"src",i),(!a||c&32&&!G(o.src,r="https://aoe2techtree.net/img/Units/"+p[5].imperial.info.info_list[0].ID+".png"))&&A(o,"src",r);const b={};c&32&&(b.info=p[5].castle.info),$.$set(b);const y={};c&32&&(y.info=p[5].imperial.info),_.$set(y),(!a||c&128)&&_e(e,"top",p[7]+"px"),(!a||c&256)&&_e(e,"left","calc("+p[8]+"px + 1rem)")},i(p){a||(S($.$$.fragment,p),S(_.$$.fragment,p),a=!0)},o(p){B($.$$.fragment,p),B(_.$$.fragment,p),a=!1},d(p){p&&C(e),F($),F(_)}}}function $t(t){let e,l,n,i,s,o,r,u,f,$,d,_,a=t[0],p=[];for(let b=0;b<a.length;b+=1)p[b]=ze(Ye(t,a,b));let c=t[6]&&Je(t);return f=new wt({props:{display_units:t[3],display_techs:t[4]}}),{c(){e=j("div"),l=j("select");for(let b=0;b<p.length;b+=1)p[b].c();n=T(),i=j("div"),s=T(),o=j("div"),c&&c.c(),r=T(),u=j("div"),K(f.$$.fragment),t[1]===void 0&&oe(()=>t[15].call(l)),A(e,"class","civcount svelte-1w8wol8"),A(o,"class","popup-outer svelte-1w8wol8"),A(u,"class","summary svelte-1w8wol8")},m(b,y){q(b,e,y),v(e,l);for(let g=0;g<p.length;g+=1)p[g].m(l,null);ge(l,t[1]),q(b,n,y),q(b,i,y),i.innerHTML=t[2],q(b,s,y),q(b,o,y),c&&c.m(o,null),q(b,r,y),q(b,u,y),D(f,u,null),$=!0,d||(_=[E(l,"change",t[15]),E(l,"change",t[12]),E(i,"click",t[9]),E(i,"mouseenter",t[10]),E(i,"mousemove",t[10]),E(i,"mouseleave",t[11]),E(i,"touchstart",t[10]),E(i,"touchmove",t[10]),E(i,"touchend",t[11],{passive:!0}),E(i,"keydown",Ct)],d=!0)},p(b,[y]){if(y&1){a=b[0];let M;for(M=0;M<a.length;M+=1){const h=Ye(b,a,M);p[M]?p[M].p(h,y):(p[M]=ze(h),p[M].c(),p[M].m(l,null))}for(;M<p.length;M+=1)p[M].d(1);p.length=a.length}y&3&&ge(l,b[1]),(!$||y&4)&&(i.innerHTML=b[2]),b[6]?c?(c.p(b,y),y&64&&S(c,1)):(c=Je(b),c.c(),S(c,1),c.m(o,null)):c&&(H(),B(c,1,1,()=>{c=null}),R());const g={};y&8&&(g.display_units=b[3]),y&16&&(g.display_techs=b[4]),f.$set(g)},i(b){$||(S(c),S(f.$$.fragment,b),$=!0)},o(b){B(c),B(f.$$.fragment,b),$=!1},d(b){b&&C(e),X(p,b),b&&C(n),b&&C(i),b&&C(s),b&&C(o),c&&c.d(),b&&C(r),b&&C(u),F(f),d=!1,z(_)}}}const Ct=()=>{};function qt(t,e,l){let{changeCiv:n,civnames:i,toggleClick:s}=e,o="Armenians",r,u,f,$,d=!1,_=0,a=0;function p(h){return h.touches?(l(7,_=h.touches[0].pageY),l(8,a=h.touches[0].pageX)):(l(7,_=h.pageY),l(8,a=h.pageX)),{y_offset:_,x_offset:a}}const c=h=>{h.preventDefault(),s&&(p(h),l(6,d=!d))},b=h=>{h.preventDefault(),(!s||h.touches)&&(p(h),l(6,d=!0))},y=()=>{event.preventDefault(),s||l(6,d=!1)},g=()=>{const h=n(o);l(2,r=h.civdesc),l(3,u=h.display_units),l(4,f=h.display_techs),l(5,$=h.display_unique)};g();function M(){o=lt(this),l(1,o),l(0,i)}return t.$$set=h=>{"changeCiv"in h&&l(13,n=h.changeCiv),"civnames"in h&&l(0,i=h.civnames),"toggleClick"in h&&l(14,s=h.toggleClick)},[i,o,r,u,f,$,d,_,a,c,b,y,g,n,s,M]}class $e extends fe{constructor(e){super(),ue(this,e,qt,$t,se,{changeCiv:13,civnames:0,toggleClick:14})}}function Qe(t,e,l){const n=t.slice();return n[15]=e[l],n}function Ve(t,e,l){const n=t.slice();return n[15]=e[l],n}function Ze(t,e,l){const n=t.slice();return n[15]=e[l],n}function At(t,e,l){const n=t.slice();return n[15]=e[l],n[23]=l,n}function St(t){let e;return{c(){e=j("p"),e.textContent="Loading ...",A(e,"class","svelte-17i4in0")},m(l,n){q(l,e,n)},p:W,i:W,o:W,d(l){l&&C(e)}}}function jt(t){let e,l,n,i,s,o,r,u,f,$,d,_,a,p,c,b=Array(8),y=[];for(let k=0;k<b.length;k+=1)y[k]=Mt(At(t,b,k));const g=[Pt,Bt],M=[];function h(k,m){return k[1]>4?0:1}return f=h(t),$=M[f]=g[f](t),{c(){e=j("main"),l=j("div"),n=j("select");for(let k=0;k<y.length;k+=1)y[k].c();i=T(),s=j("label"),o=j("input"),r=L(`
			details on click`),u=T(),$.c(),d=T(),_=j("div"),t[1]===void 0&&oe(()=>t[5].call(n)),A(o,"type","checkbox"),A(_,"class","spacer svelte-17i4in0"),A(e,"class","svelte-17i4in0")},m(k,m){q(k,e,m),v(e,l),v(l,n);for(let N=0;N<y.length;N+=1)y[N].m(n,null);ge(n,t[1]),v(l,i),v(l,s),v(s,o),o.checked=t[2],v(s,r),v(e,u),M[f].m(e,null),v(e,d),v(e,_),a=!0,p||(c=[E(n,"change",t[5]),st(Lt.call(null,n)),E(o,"change",t[6])],p=!0)},p(k,m){m&2&&ge(n,k[1]),m&4&&(o.checked=k[2]);let N=f;f=h(k),f===N?M[f].p(k,m):(H(),B(M[N],1,1,()=>{M[N]=null}),R(),$=M[f],$?$.p(k,m):($=M[f]=g[f](k),$.c()),S($,1),$.m(e,d))},i(k){a||(S($),a=!0)},o(k){B($),a=!1},d(k){k&&C(e),X(y,k),M[f].d(),p=!1,z(c)}}}function Mt(t){let e,l=t[23]+1+"",n,i;return{c(){e=j("option"),n=L(l),i=T(),e.__value=t[23]+1,e.value=e.__value},m(s,o){q(s,e,o),v(e,n),v(e,i)},p:W,d(s){s&&C(e)}}}function Bt(t){let e,l,n=Array(t[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=xe(Qe(t,n,o));const s=o=>B(i[o],1,1,()=>{i[o]=null});return{c(){e=j("div");for(let o=0;o<i.length;o+=1)i[o].c();A(e,"class","row svelte-17i4in0")},m(o,r){q(o,e,r);for(let u=0;u<i.length;u+=1)i[u].m(e,null);l=!0},p(o,r){if(r&30){n=Array(o[1]);let u;for(u=0;u<n.length;u+=1){const f=Qe(o,n,u);i[u]?(i[u].p(f,r),S(i[u],1)):(i[u]=xe(f),i[u].c(),S(i[u],1),i[u].m(e,null))}for(H(),u=n.length;u<i.length;u+=1)s(u);R()}},i(o){if(!l){for(let r=0;r<n.length;r+=1)S(i[r]);l=!0}},o(o){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)B(i[r]);l=!1},d(o){o&&C(e),X(i,o)}}}function Pt(t){let e,l,n,i,s=Array(4),o=[];for(let d=0;d<s.length;d+=1)o[d]=et(Ze(t,s,d));const r=d=>B(o[d],1,1,()=>{o[d]=null});let u=Array(t[1]-4),f=[];for(let d=0;d<u.length;d+=1)f[d]=tt(Ve(t,u,d));const $=d=>B(f[d],1,1,()=>{f[d]=null});return{c(){e=j("div");for(let d=0;d<o.length;d+=1)o[d].c();l=T(),n=j("div");for(let d=0;d<f.length;d+=1)f[d].c();A(e,"class","row svelte-17i4in0"),A(n,"class","row svelte-17i4in0")},m(d,_){q(d,e,_);for(let a=0;a<o.length;a+=1)o[a].m(e,null);q(d,l,_),q(d,n,_);for(let a=0;a<f.length;a+=1)f[a].m(n,null);i=!0},p(d,_){if(_&28){s=Array(4);let a;for(a=0;a<s.length;a+=1){const p=Ze(d,s,a);o[a]?(o[a].p(p,_),S(o[a],1)):(o[a]=et(p),o[a].c(),S(o[a],1),o[a].m(e,null))}for(H(),a=s.length;a<o.length;a+=1)r(a);R()}if(_&30){u=Array(d[1]-4);let a;for(a=0;a<u.length;a+=1){const p=Ve(d,u,a);f[a]?(f[a].p(p,_),S(f[a],1)):(f[a]=tt(p),f[a].c(),S(f[a],1),f[a].m(n,null))}for(H(),a=u.length;a<f.length;a+=1)$(a);R()}},i(d){if(!i){for(let _=0;_<s.length;_+=1)S(o[_]);for(let _=0;_<u.length;_+=1)S(f[_]);i=!0}},o(d){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)B(o[_]);f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)B(f[_]);i=!1},d(d){d&&C(e),X(o,d),d&&C(l),d&&C(n),X(f,d)}}}function xe(t){let e,l,n,i;return l=new $e({props:{changeCiv:t[4],civnames:t[3],toggleClick:t[2]}}),{c(){e=j("div"),K(l.$$.fragment),n=T(),A(e,"class","column svelte-17i4in0")},m(s,o){q(s,e,o),D(l,e,null),v(e,n),i=!0},p(s,o){const r={};o&8&&(r.civnames=s[3]),o&4&&(r.toggleClick=s[2]),l.$set(r)},i(s){i||(S(l.$$.fragment,s),i=!0)},o(s){B(l.$$.fragment,s),i=!1},d(s){s&&C(e),F(l)}}}function et(t){let e,l,n,i;return l=new $e({props:{changeCiv:t[4],civnames:t[3],toggleClick:t[2]}}),{c(){e=j("div"),K(l.$$.fragment),n=T(),A(e,"class","column svelte-17i4in0")},m(s,o){q(s,e,o),D(l,e,null),v(e,n),i=!0},p(s,o){const r={};o&8&&(r.civnames=s[3]),o&4&&(r.toggleClick=s[2]),l.$set(r)},i(s){i||(S(l.$$.fragment,s),i=!0)},o(s){B(l.$$.fragment,s),i=!1},d(s){s&&C(e),F(l)}}}function tt(t){let e,l,n,i;return l=new $e({props:{changeCiv:t[4],civnames:t[3],toggleClick:t[2]}}),{c(){e=j("div"),K(l.$$.fragment),n=T(),A(e,"class","column svelte-17i4in0")},m(s,o){q(s,e,o),D(l,e,null),v(e,n),i=!0},p(s,o){const r={};o&8&&(r.civnames=s[3]),o&4&&(r.toggleClick=s[2]),l.$set(r)},i(s){i||(S(l.$$.fragment,s),i=!0)},o(s){B(l.$$.fragment,s),i=!1},d(s){s&&C(e),F(l)}}}function Tt(t){let e,l,n,i;const s=[jt,St],o=[];function r(u,f){return u[0]?0:1}return e=r(t),l=o[e]=s[e](t),{c(){l.c(),n=re()},m(u,f){o[e].m(u,f),q(u,n,f),i=!0},p(u,[f]){let $=e;e=r(u),e===$?o[e].p(u,f):(H(),B(o[$],1,1,()=>{o[$]=null}),R(),l=o[e],l?l.p(u,f):(l=o[e]=s[e](u),l.c()),S(l,1),l.m(n.parentNode,n))},i(u){i||(S(l),i=!0)},o(u){B(l),i=!1},d(u){o[e].d(u),u&&C(n)}}}function Lt(t){t.focus()}function Nt(t,e,l){let n=!1,i=null,s=null,o=1,r=!0,u,f,$,d=null;function _(){l(3,d=Object.keys(i.civ_names))}function a(g){const M=i.civ_helptexts[g],h=s[M],k=dt.slice(),m=i.techtrees[g].units,N=k.filter(w=>m.map(P=>P.id).includes(w.id)),ce=_t.slice(),ie=i.techtrees[g].techs,Y=ce.filter(w=>ie.map(P=>P.id).includes(w.id)),ae=N.map(w=>({...w,...i.data.units[w.id],name:s[i.data.units[w.id].LanguageNameId]})),Q=Y.map(w=>({...w,...i.data.techs[w.id],name:s[i.data.techs[w.id].LanguageNameId]})),V=i.techtrees[g].unique,le=i.data.units[V.castleAgeUniqueUnit],Z=s[le.LanguageNameId],x=i.data.units[V.imperialAgeUniqueUnit],O=s[x.LanguageNameId];return $={castle:{info:{info_index:0,info_type:"unit",info_list:[{...le,name:Z}]}},imperial:{info:{info_index:0,info_type:"unit",info_list:[{...x,name:O}]}}},u=ae.reduce((w,P)=>{if(w.length===0)return[{...P,available:1,info_type:"unit",next:!0,info_list:[P]}];const I=w[w.length-1];return I.type===P.type?(I.available+=1,I.info_list=I.info_list.concat(P),w):[...w,{...P,available:1,info_type:"unit",info_list:[P],next:I.building!==P.building}]},[]),f=Q.reduce((w,P)=>{if(w.length===0)return[{...P,available:1,info_type:"tech",info_list:[P]}];const I=w[w.length-1];return I.building===P.building&&I.type!=="unique"&&I.type===P.type?(I.available+=1,I.info_list=I.info_list.concat(P),w):[...w,{...P,available:1,info_type:"tech",info_list:[P]}]},[]),{civdesc:h,display_units:u,display_techs:f,display_unique:$}}const p=fetch("https://raw.githubusercontent.com/SiegeEngineers/aoe2techtree/master/data/locales/en/strings.json").then(g=>g.json()).then(g=>{s=g}).catch(g=>console.error("Error fetching strings:",g)),c=fetch("https://raw.githubusercontent.com/SiegeEngineers/aoe2techtree/master/data/data.json").then(g=>g.json()).then(g=>{i=g}).catch(g=>console.error("Error fetching JSON:",g));Promise.all([p,c]).then(()=>{_(),a("Aztecs"),l(0,n=!0)});function b(){o=lt(this),l(1,o)}function y(){r=this.checked,l(2,r)}return[n,o,r,d,a,b,y]}class Et extends fe{constructor(e){super(),ue(this,e,Nt,Tt,se,{})}}new Et({target:document.getElementById("app")});
